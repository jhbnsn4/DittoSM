<app-create-post></app-create-post>

<form [formGroup]="profileImageForm" (ngSubmit)="onProfileImageSubmit()">
    <div class="mb-3">
        <label for="imageInput">Profile Picture</label>
        <input type="file" class="form-control" id="imageInput" name="imageFile" (change)="onImageLoad($event)"
            accept="image/png, image/jpeg">
        <br>
        <img [src]="profileImage">
    </div>
    <input type="submit" class="form-control">
</form>

<form [formGroup]="postForm" (ngSubmit)="onTestPostSubmit()">
    <legend>Test files&textbox</legend>
    <div class="form-group">
        <label for="textInput">Post Text</label>
        <input type="text" formControlName="postText" id="textInput" class="form-control">
    </div>
    <div class="form-group">
        <input type="file" formControlName="postFile" id="fileInput" class="form-control" multiple="" (change)="onTestPostFileChange($event)"
        accept="image/png, image/jpeg">
    </div>

    <img *ngFor="let url of postFormImages" [src]="url" height="150" width="200px">

    <button type="submit" class="btn btn-success">Post</button>
</form>


<button (click)="onClickEdit()">Edit Profile</button>
<form>
    <fieldset id="profileFieldset" disabled>
        <legend>User Profile</legend>

        <div class="mb-3">
            <input type="text" class="form-control" [(ngModel)]="firstName" name="firstNameInput">
            <input type="text" class="form-control" [(ngModel)]="lastName" name="lastNameInput">
        </div>
        <div class="mb-3">
            <input type="text" class="form-control" [(ngModel)]="statusText" name="statusInput" placeholder="Tell everyone how you're feeling!">
        </div>
        <div class="mb-3">
            <input type="date" class="form-control" [value]="parseDate()" (input)="setBirthDate($event)"
                name="birthday">
        </div>
        <div class="mb-3" *ngIf="editing">
            <button class="btn btn-success" (click)="onClickUpdateProfile()">Update Profile</button>
        </div>

    </fieldset>
</form>

<app-posts [events]="eventsSubject.asObservable()"></app-posts>