<app-create-post></app-create-post>

<!-- Profile image -->
<form [formGroup]="profileImageForm" (ngSubmit)="onProfileImageSubmit()">
    <div class="mb-3" *ngIf="editingImage">
        <label for="imageInput">Profile Picture</label>
        <input type="file" class="form-control" id="imageInput" name="imageFile" (change)="onImageLoad($event)"
            accept="image/png, image/jpeg">
        <button type="submit" class="btn btn-dark">Change Profile Picture</button>
    </div>
    <img [src]="profileImage" height="150" width="200px" (click)="onProfilImageClick()" (mouseover)="mouseOverProfile = true"
    (mouseout)="mouseOverProfile = false">
    <p *ngIf="mouseOverProfile">Click to edit</p>
</form>

<!-- Profile information -->
<button (click)="onClickEdit()">Edit Profile</button>
<form>
    <fieldset id="profileFieldset" disabled>
        <legend>User Profile</legend>

        <div class="mb-3">
            <input type="text" class="form-control" [(ngModel)]="firstName" name="firstNameInput">
            <input type="text" class="form-control" [(ngModel)]="lastName" name="lastNameInput">
        </div>
        <div class="mb-3">
            <input type="text" class="form-control" [(ngModel)]="statusText" name="statusInput" placeholder="Tell everyone how you're feeling!">
        </div>
        <div class="mb-3">
            <input type="date" class="form-control" [value]="parseDate()" (input)="setBirthDate($event)"
                name="birthday">
        </div>
        <div class="mb-3" *ngIf="editing">
            <button class="btn btn-success" (click)="onClickUpdateProfile()">Update Profile</button>
        </div>

    </fieldset>
</form>

<app-posts [events]="eventsSubject.asObservable()"></app-posts>